/* =========================
   Macabre Industries - style.css
   ========================= */

/* -------- Variables comunes -------- */
:root {
  --text: #000000;
  --accent: #79032a;
  --muted: #555555;
  --shadow-lg: 0 20px 40px rgba(0,0,0,0.15);
  --radius-lg: 14px;
  --container-padding: 24px;
  --max-width: 1200px;

  /* Gradientes */
  --hero-gradient: linear-gradient(180deg, rgba(0,100,255,0.25), rgba(255,255,255,0.2));
  --body-gradient: radial-gradient(circle at top left, rgba(0,100,255,0.15), rgba(255,255,255,0.05));
}

/* Modo claro */
body.white {
  --bg: #f5f8ff;
  --text: #000000;
  --card-bg: #ffffff;
  --accent: #0064ff;
  --muted: #555555;
  --nav-bg: #f5f8ff;

  --hero-gradient: linear-gradient(180deg, rgba(0,100,255,0.25), rgba(255,255,255,0.2));
  --body-gradient: radial-gradient(circle at top left, rgba(0,100,255,0.15), rgba(255,255,255,0));
}

/* Modo oscuro */
body.dark {
  --bg: #000000;
  --text: #ffffff;
  --card-bg: #111111;
  --accent: #79032a;
  --muted: #aaaaaa;
  --nav-bg: #000000;

  /* Gradiente rojo ajustado para más visibilidad y mayor área */
  --hero-gradient: linear-gradient(180deg, rgba(121,3,42,0.9), rgba(0,0,0,0.7)); /* Rojo más visible con mayor área */
  --body-gradient: radial-gradient(circle at top left, rgba(121,3,42,0.4), rgba(0,0,0,0.05)); /* Aumento de la extensión del rojo */
}

/* Hero (aplicar gradiente en el fondo) */
.hero {
  background: var(--hero-gradient);  /* Asegurarse de que el gradiente se aplique al hero */
  position: relative;
  min-height: 72vh;
  display: flex;
  align-items: center;
  overflow: hidden;
  color: var(--text);
  padding: 56px 0;
}

.hero-bg {
  position: absolute;
  inset: 0;
  background: var(--bg);
  transform: translateZ(0);
  z-index: 0;
  filter: none;  /* Eliminar el blur para evitar que interfiera con el gradiente */
}

.hero-overlay {
  position: absolute;
  inset: 0;
  background: var(--hero-gradient);
  z-index: 1;
  transition: background 0.5s ease;
  opacity: 0.7;  /* Asegurarse de que el gradiente sea visible */
}


/* -------- Base -------- */
* { box-sizing:border-box; margin:0; padding:0; font-family:"Inter",sans-serif; }
html, body { 
  height:100%; 
  background: var(--bg); 
  color:var(--text); 
  scroll-behavior:smooth; 
  transition: background 0.5s ease, color 0.5s ease; 
  position: relative;
}
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: var(--body-gradient);
  z-index: -1;
  pointer-events: none;
  transition: background 0.5s ease;
}

/* Forzar fondo de secciones para modo oscuro y claro */
.servicios-section, .portafolio, main {
  background: var(--bg);
  transition: background 0.5s ease, color 0.5s ease;
}

main { 
  transition: background 0.5s ease, color 0.5s ease; 
}
.container { max-width: var(--max-width); margin:0 auto; padding:48px var(--container-padding); }

/* Skip link */
.skip-link { position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; z-index:10000; }
.skip-link:focus { left:16px; top:16px; width:auto; height:auto; padding:8px 12px; background: rgba(0,0,0,0.7); color:#fff; border-radius:6px; text-decoration:none; }

/* ===== Preloader ===== */
body.white #preloader {
  position:fixed; inset:0; background:var(--bg); display:flex; align-items:center; justify-content:center; z-index:9999;
}
body.white #preloader .loader {
  width:64px; height:64px;
  border:6px solid rgb(236, 230, 230);
  border-top-color: var(--accent);
  border-radius:50%;
  animation: spin 1s linear infinite;
}

body.dark #preloader {
  position:fixed; inset:0; background:var(--bg); display:flex; align-items:center; justify-content:center; z-index:9999;
}
body.dark #preloader .loader {
  width:64px; height:64px;
  border:6px solid rgba(0,0,0,0.1);
  border-top-color: var(--accent);
  border-radius:50%;
  animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* ===== Header ===== */
.site-header {
  position:sticky; top:0; z-index:1200; backdrop-filter:blur(6px);
  background:var(--nav-bg); border-bottom:1px solid rgba(0,0,0,0.05); transition: background 0.5s ease, color 0.5s ease;
}
.nav-wrap { display:flex; align-items:center; justify-content:space-between; gap:20px; max-width:var(--max-width); margin:0 auto; padding:12px var(--container-padding); }
.logo-container { display:flex; align-items:center; gap:12px; }
.brand-link { display:flex; align-items:center; gap:12px; text-decoration:none; color:var(--text); }
.logo { width:44px; height:44px; object-fit:contain; border-radius:8px; box-shadow: var(--shadow-lg); }
.brand-name { font-weight:800; letter-spacing:0.6px; font-size:1rem; text-transform:uppercase; }
.menu { display:flex; align-items:center; gap:18px; list-style:none; }
.menu a { color:var(--text); text-decoration:none; padding:10px 8px; position:relative; font-weight:600; transition: transform 300ms, color 250ms;}
.menu a:hover { transform: translateY(-3px); color:var(--accent); }
.menu a::after { content:""; position:absolute; left:50%; transform:translateX(-50%) scaleX(0); bottom:4px; width:70%; height:3px; background: linear-gradient(90deg, var(--accent), #ff6fa3); border-radius:10px; transition: transform 350ms;}
.menu a:hover::after { transform:translateX(-50%) scaleX(1); }

/* Cotizar */
.btn-cotizar {
  padding:8px 14px;
  border-radius:50px;
  background: var(--accent);
  color:#fff;
  box-shadow:0 10px 30px rgba(121,3,42,0.18);
  transition: transform 220ms, box-shadow 220ms;
}
.btn-cotizar:hover { transform: translateY(-4px) scale(1.02); box-shadow:0 18px 40px rgba(121,3,42,0.25); }

/* ===== Mobile ===== */
.nav-toggle { display:none; }
@media (max-width:800px){
  .nav-toggle { display:flex; background:transparent; border:0; cursor:pointer; width:48px; height:48px; align-items:center; justify-content:center; border-radius:50%; }
  .menu { display:none; }
  .menu.mobile-open { position:absolute; right:var(--container-padding); top:70px; background:var(--nav-bg); padding:12px; border-radius:12px; display:flex; flex-direction:column; gap:8px; z-index:1300; box-shadow:0 20px 60px rgba(0,0,0,0.6); }
}

/* ===== Hero ===== */
.hero { position:relative; min-height:72vh; display:flex; align-items:center; overflow:hidden; color:var(--text); padding:56px 0;}
.hero-bg { position:absolute; inset:0; background:var(--bg); transform:translateZ(0); z-index:0; filter: blur(8px) saturate(120%); }
.hero-overlay { position:absolute; inset:0; background: var(--hero-gradient); z-index:1; mix-blend-mode: multiply; transition: background 0.5s ease; }
.hero-content { position:relative; z-index:5; max-width:920px; }
.subtitulo { display:inline-block; font-size:0.85rem; letter-spacing:2px; font-weight:700; text-transform:uppercase; color:var(--muted); margin-bottom:14px; }
.hero h1, .hero p, .hero .btn-secundario { opacity:0; transform: translateY(40px); animation: fadeUp 1s ease forwards;}
.hero h1 { animation-delay:0.3s; font-size:clamp(2rem,4vw,3.2rem); line-height:1.1; font-weight:900; text-shadow: 0 6px 20px rgba(0,0,0,0.5);}
.hero p { animation-delay:0.6s; font-size:1.05rem; color:var(--muted);}
.btn-secundario {
  display:inline-block;
  margin-top:20px;
  padding:14px 28px;
  border-radius:50px;
  background: var(--accent);
  color:#fff;
  font-weight:700;
  text-transform:uppercase;
  text-decoration:none;
  box-shadow: 0 12px 30px rgba(121,3,42,0.25);
  transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
}
.btn-secundario:hover {
  transform: translateY(-4px) scale(1.03);
  box-shadow:0 20px 50px rgba(121,3,42,0.35);
  background: linear-gradient(90deg, var(--accent), #ff6fa3);
}

/* ===== Cards ===== */
h2 { font-size: clamp(1.25rem, 2vw, 1.6rem); margin-bottom:20px; font-weight:900; color:var(--text);}
.mission-vision-objectives, .servicios-container { display:grid; grid-template-columns: repeat(3,1fr); gap:20px; margin-bottom:48px; }
.card, .servicio-card, .portafolio-card { position:relative; background:var(--card-bg); border-radius:var(--radius-lg); padding:22px; box-shadow:0 8px 24px rgba(0,0,0,0.25); transition: all 0.5s ease; opacity:0; transform:translateY(30px); }
.card:hover, .servicio-card:hover, .portafolio-card:hover { transform:translateY(-10px) scale(1.02); box-shadow:0 24px 50px rgba(0,0,0,0.35);}
.card::before, .servicio-card::before, .portafolio-card::before { content:''; position:absolute; inset:0; background: linear-gradient(120deg, rgba(255,255,255,0.03), rgba(255,255,255,0)); transform: scaleX(0); transform-origin:left; transition: transform 0.5s ease; border-radius:inherit;}
.card:hover::before, .servicio-card:hover::before, .portafolio-card:hover::before { transform: scaleX(1); }

/* ===== Portafolio ===== */
.portafolio {
  position: relative;
  background: var(--bg);
  transition: background 0.5s ease, color 0.5s ease;
}

/* Difuminado adicional modo oscuro */
body.dark .portafolio::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  border-radius: 12px;
}

/* Cards sobre el difuminado */
body.dark .portafolio-container {
  position: relative;
  z-index: 1;
}

.portafolio-container { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:20px; margin-top:20px; }
.portafolio-card img { width:100%; height:200px; object-fit:cover; border-radius:12px; display:block; margin-bottom:10px; }

/* ===== Footer ===== */
.footer { 
  margin-top:0; 
  padding:36px var(--container-padding); 
  background: var(--card-bg); 
  opacity:0; 
  transform:translateY(30px); 
  animation: fadeUp 1s ease forwards; 
  animation-delay:1s;
}

/* Correción para el fondo del footer en modo oscuro */
body.dark .footer {
  background: var(--card-bg); 
}

/* Footer content y títulos */
.footer-content { 
  max-width:var(--max-width); 
  margin:0 auto; 
  display:flex; 
  gap:32px; 
  flex-wrap:wrap; 
  align-items:flex-start; 
  color:var(--muted); 
}

.footer-title { 
  color:var(--text); 
  font-weight:900; 
  margin-bottom:8px; 
}


/* ===== Animations ===== */
@keyframes fadeUp { to { opacity:1; transform:translateY(0) } }

/* ===== Responsive ===== */
@media (max-width:1100px) { .mission-vision-objectives, .servicios-container { grid-template-columns: repeat(2,1fr); } }
@media (max-width:800px) { .mission-vision-objectives, .servicios-container, .portafolio-container { grid-template-columns:1fr; } }

/* ===== Theme Toggle Circular ===== */
.theme-switch { display:inline-flex; align-items:center; justify-content:space-between; width:60px; height:30px; background:var(--card-bg); border-radius:50px; padding:4px; cursor:pointer; position:relative; transition: background 0.3s ease; }
.theme-switch input { display:none; }
.switch-knob { position:absolute; top:4px; left:4px; width:22px; height:22px; background:var(--accent); border-radius:50%; transition: all 0.3s ease; }
.theme-switch input:checked + .switch-knob { transform: translateX(30px); background:var(--accent); }
.theme-icon { font-size:0.85rem; user-select:none; }
.theme-icon-sun { position:absolute; left:8px; }
.theme-icon-moon { position:absolute; right:8px; }
